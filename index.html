<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TransforMap Editor</title>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
    <script src="vendor.js"></script>
    <script src="app.js"></script>
    <script>require('initialize')</script>
    <link rel="stylesheet" href="app.css">
    <link rel="stylesheet" href="vendor.css">
  </head>
  <body>
    <div id="forms">
      <h1>TransforMap Editor</h1>
      <form>
        <fieldset>
          <div class="row" id="menu">
            <button onClick="history.go()">Reset</button><a href="." id="newbutton" title="Create a new POI">New</a><a href="https://github.com/TransforMap/transformap-editor/blob/master/HELP.md" id="help" target="_blank">Help</a>
          </div>
          <div class="row" id="id">
            <label for="_id">Object ID</label>
            <input type="text" id="_id" disabled="true">
            <div class="row" id="deleted">{{{ This object is in 'deleted' state. To undelete, click 'Save' }}}</div>
          </div>
        </fieldset>
        <fieldset>
          <div class="row" id="name">
            <label for="_key_name">Name</label>
            <input type="text" id="_key_name">
          </div>
          <div class="row" id="toi">
            <label for="_key_type_of_initiative">Type of Initiative</label>
            <select id="_key_type_of_initiative" multiple size="5">
              <option value="">== Choose at least one type of initiative ==</option>
            </select>
          </div>
          <div class="row">
            <label for="_key_identity">Identity</label>
            <select id="_key_identity" name="Needs" multiple size="5">
              <option value="">== Choose An Identity ==</option>
              <option value="collaborative_economy">Collaborative Economy</option>
              <option value="commons">Commons </option>
              <option value="community_based_currencies">Community Based Currencies</option>
              <option value="demonetized_economy">Demonetized Economy</option>
              <option value="degrowth">Degrowth</option>
              <option value="economy_for_the_common_good">Economy for the Common Good</option>
              <option value="global_ecovillage_network">Global Ecovillage Network</option>
              <option value="permaculture">Permaculture</option>
              <option value="solidarity_economy">Solidarity Economy</option>
              <option value="transition_initiative">Transition Initiative</option>
            </select>
          </div>
        </fieldset>
        <fieldset id="address">
          <legend>Address</legend>
          <div class="row">
            <label for="_key_addr:country">Country</label>
            <input type="text" id="_key_addr:country">
          </div>
          <div class="row">
            <label for="_key_addr:city">City</label>
            <input type="text" id="_key_addr:city">
          </div>
          <div class="row">
            <label for="_key_addr:postcode">Postcode</label>
            <input type="text" id="_key_addr:postcode">
          </div>
          <div class="row">
            <label for="_key_addr:street">Street Name</label>
            <input type="text" id="_key_addr:street">
          </div>
          <div class="row">
            <label for="_key_addr:housenumber">House Number</label>
            <input type="text" id="_key_addr:housenumber">
          </div>
          <!--fixme add support for addr:housename and addr:place-->
          <div class="row" style="margin-top:1em">
            <label>Search for Coordinates from Address</label>
            <button type="button" id="coordsearch">Go!</button>
            <Search>using OpenStreetMap</Search>
          </div>
          <div class="row" style="margin-top:1em">
            <label for="_geometry_lon" title="X, WGS84, decimal degree">Longitude</label>
            <input type="text" id="_geometry_lon">
          </div>
          <div class="row">
            <label for="_geometry_lat" title="Y, WGS84, decimal degree">Latitude</label>
            <input type="text" id="_geometry_lat">
            <!--TODO add reset coords button-->
          </div>
        </fieldset>
        <fieldset>
          <legend>Contact Data</legend>
          <div class="row">
            <label for="_key_contact:website">Website</label>
            <input type="text" id="_key_contact:website">
          </div>
          <div class="row">
            <label for="_key_contact:email">Email Address</label>
            <input type="text" id="_key_contact:email">
          </div>
          <div class="row">
            <label for="_key_contact:phone">Phone Number</label>
            <input type="text" id="_key_contact:phone">
          </div>
          <div class="row">
            <label for="_key_opening_hours">Opening Hours</label>
            <input type="text" id="_key_opening_hours">
          </div>
          <!--fixme allow more than one field for each type-->
        </fieldset>
        <fieldset>
          <legend>Additional Information</legend>
          <div class="row">
            <label for="_key_image">Link to image</label>
            <input type="text" id="_key_image"><span>&nbsp;Upload&nbsp;</span><a href="https://base.transformap.co/wiki/Special:Upload" target="_blank">here</a><span>.</span>
          </div>
          <div class="row">
            <label for="_key_video">Link to video</label>
            <input type="text" id="_key_video">
          </div>
          <div class="row">
            <label for="_key_description">Description text</label>
            <textarea id="_key_description" rows="4"></textarea>
          </div>
          <!--fixme different langs for description-->
        </fieldset>
        <fieldset id="freetags">
          <legend>Free Tags</legend>
          <!--fixme must add additional fields when user fills one-->
          <div class="row header">
            <p>Key</p>
            <p>Value</p>
            <button type="button" id="plus">Add</button>
          </div>
          <div class="row">
            <input type="text" id="key1" name="freetags">
            <input type="text" id="value1" name="freetags">
          </div>
        </fieldset>
      </form>
      <button type="button" id="delete">Delete POI</button>
      <button type="button" id="save">Save</button>
    </div>
    <div id="map"></div>
  </body>
</html>
